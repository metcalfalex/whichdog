# Python 3.4
'''
cd ~/documents/201510-whichdog
python3 code_07.py
'''

import sys
import urllib.parse
import urllib.request
import json
import csv
import time
import requests

# Function to check each URL exists before publishing
def urlExists(path):
    r = requests.head(path)
    return r.status_code == requests.codes.ok

# Output file name
output_file_name = 'output_01.csv'

# Open output file
with open(output_file_name,'a') as txtfile_out:
#with open(output_file_name,'w') as txtfile_out:

   # Prepare csv writer for output file
   writer_out = csv.writer(txtfile_out)

   # Define search string
   terms = ['Affenpinscher big dog','Afghan Hound big dog','Airedale Terrier big dog','Akita big dog','Alaskan Malamute big dog','American Cocker Spaniel big dog','American Eskimo Dog (Miniature) big dog','American Eskimo Dog (Standard) big dog','American Eskimo Dog (Toy) big dog','American Foxhound big dog','American Staffordshire Terrier big dog','American Water Spaniel big dog','Anatolian Shepherd big dog','Australian Cattle Dog big dog','Australian Shepherd big dog','Australian Terrier big dog','Basenji big dog','Basset Hound big dog','Beagle big dog','Bearded Collie big dog','Bedlington Terrier big dog','Belgian Malinois big dog','Belgian Sheepdog big dog','Belgian Tervuren big dog','Bernese Mountain Dog big dog','Bichon Frise big dog','Black and Tan Coonhound big dog','Bloodhound big dog','Border Collie big dog','Border Terrier big dog','Borzoi big dog','Boston Terrier big dog','Bouvier des Flandres big dog','Boxer big dog','Briard big dog','Brittany big dog','Brussels Griffon big dog','Bull Terrier big dog','Bulldog big dog','Bullmastiff big dog','Cairn Terrier big dog','Canaan Dog big dog','Cardigan Welsh Corgi big dog','Cavalier King Charles Spaniel big dog','Chesapeake Bay Retriever big dog','Chihuahua big dog','Chinese Crested Dog big dog','Chinese Shar-Pei big dog','Chow Chow big dog','Clumber Spaniel big dog','Collie big dog','Curly-Coated Retriever big dog','Dachshund (Standard) big dog','Dachsund (Miniature) big dog','Dalmatian big dog','Dandie Dinmont Terrier big dog','Doberman Pinscher big dog','English Cocker Spaniel big dog','English Foxhound big dog','English Setter big dog','English Springer Spaniel big dog','English Toy Spaniel big dog','Field Spaniel big dog','Finnish Spitz big dog','Flat-Coated Retriever big dog','French Bulldog big dog','German Shepherd Dog big dog','German Shorthaired Pointer big dog','German Wirehaired Pointer big dog','Giant Schnauzer big dog','Golden Retriever big dog','Gordon Setter big dog','Great Dane big dog','Great Pyrenees big dog','Greater Swiss Mountain Dog big dog','Greyhound big dog','Harrier big dog','Havanese big dog','Ibizan Hound big dog','Irish Setter big dog','Irish Terrier big dog','Irish Water Spaniel big dog','Irish Wolfhound big dog','Italian Greyhound big dog','Jack Russell Terrier big dog','Japanese Chin big dog','Keeshond big dog','Kerry Blue Terrier big dog','Komondor big dog','Kuvasz big dog','Labrador Retriever big dog','Lakeland Terrier big dog','Lhasa Apso big dog','Lowchen big dog','Maltese big dog','Manchester Terrier (Standard) big dog','Manchester Terrier (Toy) big dog','Mastiff big dog','Miniature Bull Terrier big dog','Miniature Pinscher big dog','Miniature Schnauzer big dog','Newfoundland big dog','Norfolk Terrier big dog','Norwegian Elkhound big dog','Norwich Terrier big dog','Old English Sheepdog big dog','Otterhound big dog','Papillon big dog','Pekingese big dog','Pembroke Welsh Corgi big dog','Petit Basset Griffon Vendeen big dog','Pharaoh Hound big dog','Pointer big dog','Pomeranian big dog','Poodle (Miniature) big dog','Poodle (Standard) big dog','Poodle (Toy) big dog','Portuguese Water Dog big dog','Pug big dog','Puli big dog','Rhodesian Ridgeback big dog','Rottweiler big dog','Saint Bernard big dog','Saluki (or Gazelle Hound) big dog','Samoyed big dog','Schipperke big dog','Scottish Deerhound big dog','Scottish Terrier big dog','Sealyham Terrier big dog','Shetland Sheepdog big dog','Shiba Inu big dog','Shih Tzu big dog','Siberian Husky big dog','Silky Terrier big dog','Skye Terrier big dog','Smooth Fox Terrier big dog','Soft Coated Wheaten Terrier big dog','Spinone Italiano big dog','Staffordshire Bull Terrier big dog','Standard Schnauzer big dog','Sussex Spaniel big dog','Tibetan Spaniel big dog','Tibetan Terrier big dog','Vizsla big dog','Weimaraner big dog','Welsh Springer Spaniel big dog','Welsh Terrier big dog','West Highland White Terrier big dog','Whippet big dog','Wire Fox Terrier big dog','Wirehaired Pointing Griffon big dog','Yorkshire Terrier big dog','Affenpinscher puppy dog','Afghan Hound puppy dog','Airedale Terrier puppy dog','Akita puppy dog','Alaskan Malamute puppy dog','American Cocker Spaniel puppy dog','American Eskimo Dog (Miniature) puppy dog','American Eskimo Dog (Standard) puppy dog','American Eskimo Dog (Toy) puppy dog','American Foxhound puppy dog','American Staffordshire Terrier puppy dog','American Water Spaniel puppy dog','Anatolian Shepherd puppy dog','Australian Cattle Dog puppy dog','Australian Shepherd puppy dog','Australian Terrier puppy dog','Basenji puppy dog','Basset Hound puppy dog','Beagle puppy dog','Bearded Collie puppy dog','Bedlington Terrier puppy dog','Belgian Malinois puppy dog','Belgian Sheepdog puppy dog','Belgian Tervuren puppy dog','Bernese Mountain Dog puppy dog','Bichon Frise puppy dog','Black and Tan Coonhound puppy dog','Bloodhound puppy dog','Border Collie puppy dog','Border Terrier puppy dog','Borzoi puppy dog','Boston Terrier puppy dog','Bouvier des Flandres puppy dog','Boxer puppy dog','Briard puppy dog','Brittany puppy dog','Brussels Griffon puppy dog','Bull Terrier puppy dog','Bulldog puppy dog','Bullmastiff puppy dog','Cairn Terrier puppy dog','Canaan Dog puppy dog','Cardigan Welsh Corgi puppy dog','Cavalier King Charles Spaniel puppy dog','Chesapeake Bay Retriever puppy dog','Chihuahua puppy dog','Chinese Crested Dog puppy dog','Chinese Shar-Pei puppy dog','Chow Chow puppy dog','Clumber Spaniel puppy dog','Collie puppy dog','Curly-Coated Retriever puppy dog','Dachshund (Standard) puppy dog','Dachsund (Miniature) puppy dog','Dalmatian puppy dog','Dandie Dinmont Terrier puppy dog','Doberman Pinscher puppy dog','English Cocker Spaniel puppy dog','English Foxhound puppy dog','English Setter puppy dog','English Springer Spaniel puppy dog','English Toy Spaniel puppy dog','Field Spaniel puppy dog','Finnish Spitz puppy dog','Flat-Coated Retriever puppy dog','French Bulldog puppy dog','German Shepherd Dog puppy dog','German Shorthaired Pointer puppy dog','German Wirehaired Pointer puppy dog','Giant Schnauzer puppy dog','Golden Retriever puppy dog','Gordon Setter puppy dog','Great Dane puppy dog','Great Pyrenees puppy dog','Greater Swiss Mountain Dog puppy dog','Greyhound puppy dog','Harrier puppy dog','Havanese puppy dog','Ibizan Hound puppy dog','Irish Setter puppy dog','Irish Terrier puppy dog','Irish Water Spaniel puppy dog','Irish Wolfhound puppy dog','Italian Greyhound puppy dog','Jack Russell Terrier puppy dog','Japanese Chin puppy dog','Keeshond puppy dog','Kerry Blue Terrier puppy dog','Komondor puppy dog','Kuvasz puppy dog','Labrador Retriever puppy dog','Lakeland Terrier puppy dog','Lhasa Apso puppy dog','Lowchen puppy dog','Maltese puppy dog','Manchester Terrier (Standard) puppy dog','Manchester Terrier (Toy) puppy dog','Mastiff puppy dog','Miniature Bull Terrier puppy dog','Miniature Pinscher puppy dog','Miniature Schnauzer puppy dog','Newfoundland puppy dog','Norfolk Terrier puppy dog','Norwegian Elkhound puppy dog','Norwich Terrier puppy dog','Old English Sheepdog puppy dog','Otterhound puppy dog','Papillon puppy dog','Pekingese puppy dog','Pembroke Welsh Corgi puppy dog','Petit Basset Griffon Vendeen puppy dog','Pharaoh Hound puppy dog','Pointer puppy dog','Pomeranian puppy dog','Poodle (Miniature) puppy dog','Poodle (Standard) puppy dog','Poodle (Toy) puppy dog','Portuguese Water Dog puppy dog','Pug puppy dog','Puli puppy dog','Rhodesian Ridgeback puppy dog','Rottweiler puppy dog','Saint Bernard puppy dog','Saluki (or Gazelle Hound) puppy dog','Samoyed puppy dog','Schipperke puppy dog','Scottish Deerhound puppy dog','Scottish Terrier puppy dog','Sealyham Terrier puppy dog','Shetland Sheepdog puppy dog','Shiba Inu puppy dog','Shih Tzu puppy dog','Siberian Husky puppy dog','Silky Terrier puppy dog','Skye Terrier puppy dog','Smooth Fox Terrier puppy dog','Soft Coated Wheaten Terrier puppy dog','Spinone Italiano puppy dog','Staffordshire Bull Terrier puppy dog','Standard Schnauzer puppy dog','Sussex Spaniel puppy dog','Tibetan Spaniel puppy dog','Tibetan Terrier puppy dog','Vizsla puppy dog','Weimaraner puppy dog','Welsh Springer Spaniel puppy dog','Welsh Terrier puppy dog','West Highland White Terrier puppy dog','Whippet puppy dog','Wire Fox Terrier puppy dog','Wirehaired Pointing Griffon puppy dog','Yorkshire Terrier puppy dog','Affenpinscher light dog','Afghan Hound light dog','Airedale Terrier light dog','Akita light dog','Alaskan Malamute light dog','American Cocker Spaniel light dog','American Eskimo Dog (Miniature) light dog','American Eskimo Dog (Standard) light dog','American Eskimo Dog (Toy) light dog','American Foxhound light dog','American Staffordshire Terrier light dog','American Water Spaniel light dog','Anatolian Shepherd light dog','Australian Cattle Dog light dog','Australian Shepherd light dog','Australian Terrier light dog','Basenji light dog','Basset Hound light dog','Beagle light dog','Bearded Collie light dog','Bedlington Terrier light dog','Belgian Malinois light dog','Belgian Sheepdog light dog','Belgian Tervuren light dog','Bernese Mountain Dog light dog','Bichon Frise light dog','Black and Tan Coonhound light dog','Bloodhound light dog','Border Collie light dog','Border Terrier light dog','Borzoi light dog','Boston Terrier light dog','Bouvier des Flandres light dog','Boxer light dog','Briard light dog','Brittany light dog','Brussels Griffon light dog','Bull Terrier light dog','Bulldog light dog','Bullmastiff light dog','Cairn Terrier light dog','Canaan Dog light dog','Cardigan Welsh Corgi light dog','Cavalier King Charles Spaniel light dog','Chesapeake Bay Retriever light dog','Chihuahua light dog','Chinese Crested Dog light dog','Chinese Shar-Pei light dog','Chow Chow light dog','Clumber Spaniel light dog','Collie light dog','Curly-Coated Retriever light dog','Dachshund (Standard) light dog','Dachsund (Miniature) light dog','Dalmatian light dog','Dandie Dinmont Terrier light dog','Doberman Pinscher light dog','English Cocker Spaniel light dog','English Foxhound light dog','English Setter light dog','English Springer Spaniel light dog','English Toy Spaniel light dog','Field Spaniel light dog','Finnish Spitz light dog','Flat-Coated Retriever light dog','French Bulldog light dog','German Shepherd Dog light dog','German Shorthaired Pointer light dog','German Wirehaired Pointer light dog','Giant Schnauzer light dog','Golden Retriever light dog','Gordon Setter light dog','Great Dane light dog','Great Pyrenees light dog','Greater Swiss Mountain Dog light dog','Greyhound light dog','Harrier light dog','Havanese light dog','Ibizan Hound light dog','Irish Setter light dog','Irish Terrier light dog','Irish Water Spaniel light dog','Irish Wolfhound light dog','Italian Greyhound light dog','Jack Russell Terrier light dog','Japanese Chin light dog','Keeshond light dog','Kerry Blue Terrier light dog','Komondor light dog','Kuvasz light dog','Labrador Retriever light dog','Lakeland Terrier light dog','Lhasa Apso light dog','Lowchen light dog','Maltese light dog','Manchester Terrier (Standard) light dog','Manchester Terrier (Toy) light dog','Mastiff light dog','Miniature Bull Terrier light dog','Miniature Pinscher light dog','Miniature Schnauzer light dog','Newfoundland light dog','Norfolk Terrier light dog','Norwegian Elkhound light dog','Norwich Terrier light dog','Old English Sheepdog light dog','Otterhound light dog','Papillon light dog','Pekingese light dog','Pembroke Welsh Corgi light dog','Petit Basset Griffon Vendeen light dog','Pharaoh Hound light dog','Pointer light dog','Pomeranian light dog','Poodle (Miniature) light dog','Poodle (Standard) light dog','Poodle (Toy) light dog','Portuguese Water Dog light dog','Pug light dog','Puli light dog','Rhodesian Ridgeback light dog','Rottweiler light dog','Saint Bernard light dog','Saluki (or Gazelle Hound) light dog','Samoyed light dog','Schipperke light dog','Scottish Deerhound light dog','Scottish Terrier light dog','Sealyham Terrier light dog','Shetland Sheepdog light dog','Shiba Inu light dog','Shih Tzu light dog','Siberian Husky light dog','Silky Terrier light dog','Skye Terrier light dog','Smooth Fox Terrier light dog','Soft Coated Wheaten Terrier light dog','Spinone Italiano light dog','Staffordshire Bull Terrier light dog','Standard Schnauzer light dog','Sussex Spaniel light dog','Tibetan Spaniel light dog','Tibetan Terrier light dog','Vizsla light dog','Weimaraner light dog','Welsh Springer Spaniel light dog','Welsh Terrier light dog','West Highland White Terrier light dog','Whippet light dog','Wire Fox Terrier light dog','Wirehaired Pointing Griffon light dog','Yorkshire Terrier light dog','Affenpinscher dark dog','Afghan Hound dark dog','Airedale Terrier dark dog','Akita dark dog','Alaskan Malamute dark dog','American Cocker Spaniel dark dog','American Eskimo Dog (Miniature) dark dog','American Eskimo Dog (Standard) dark dog','American Eskimo Dog (Toy) dark dog','American Foxhound dark dog','American Staffordshire Terrier dark dog','American Water Spaniel dark dog','Anatolian Shepherd dark dog','Australian Cattle Dog dark dog','Australian Shepherd dark dog','Australian Terrier dark dog','Basenji dark dog','Basset Hound dark dog','Beagle dark dog','Bearded Collie dark dog','Bedlington Terrier dark dog','Belgian Malinois dark dog','Belgian Sheepdog dark dog','Belgian Tervuren dark dog','Bernese Mountain Dog dark dog','Bichon Frise dark dog','Black and Tan Coonhound dark dog','Bloodhound dark dog','Border Collie dark dog','Border Terrier dark dog','Borzoi dark dog','Boston Terrier dark dog','Bouvier des Flandres dark dog','Boxer dark dog','Briard dark dog','Brittany dark dog','Brussels Griffon dark dog','Bull Terrier dark dog','Bulldog dark dog','Bullmastiff dark dog','Cairn Terrier dark dog','Canaan Dog dark dog','Cardigan Welsh Corgi dark dog','Cavalier King Charles Spaniel dark dog','Chesapeake Bay Retriever dark dog','Chihuahua dark dog','Chinese Crested Dog dark dog','Chinese Shar-Pei dark dog','Chow Chow dark dog','Clumber Spaniel dark dog','Collie dark dog','Curly-Coated Retriever dark dog','Dachshund (Standard) dark dog','Dachsund (Miniature) dark dog','Dalmatian dark dog','Dandie Dinmont Terrier dark dog','Doberman Pinscher dark dog','English Cocker Spaniel dark dog','English Foxhound dark dog','English Setter dark dog','English Springer Spaniel dark dog','English Toy Spaniel dark dog','Field Spaniel dark dog','Finnish Spitz dark dog','Flat-Coated Retriever dark dog','French Bulldog dark dog','German Shepherd Dog dark dog','German Shorthaired Pointer dark dog','German Wirehaired Pointer dark dog','Giant Schnauzer dark dog','Golden Retriever dark dog','Gordon Setter dark dog','Great Dane dark dog','Great Pyrenees dark dog','Greater Swiss Mountain Dog dark dog','Greyhound dark dog','Harrier dark dog','Havanese dark dog','Ibizan Hound dark dog','Irish Setter dark dog','Irish Terrier dark dog','Irish Water Spaniel dark dog','Irish Wolfhound dark dog','Italian Greyhound dark dog','Jack Russell Terrier dark dog','Japanese Chin dark dog','Keeshond dark dog','Kerry Blue Terrier dark dog','Komondor dark dog','Kuvasz dark dog','Labrador Retriever dark dog','Lakeland Terrier dark dog','Lhasa Apso dark dog','Lowchen dark dog','Maltese dark dog','Manchester Terrier (Standard) dark dog','Manchester Terrier (Toy) dark dog','Mastiff dark dog','Miniature Bull Terrier dark dog','Miniature Pinscher dark dog','Miniature Schnauzer dark dog','Newfoundland dark dog','Norfolk Terrier dark dog','Norwegian Elkhound dark dog','Norwich Terrier dark dog','Old English Sheepdog dark dog','Otterhound dark dog','Papillon dark dog','Pekingese dark dog','Pembroke Welsh Corgi dark dog','Petit Basset Griffon Vendeen dark dog','Pharaoh Hound dark dog','Pointer dark dog','Pomeranian dark dog','Poodle (Miniature) dark dog','Poodle (Standard) dark dog','Poodle (Toy) dark dog','Portuguese Water Dog dark dog','Pug dark dog','Puli dark dog','Rhodesian Ridgeback dark dog','Rottweiler dark dog','Saint Bernard dark dog','Saluki (or Gazelle Hound) dark dog','Samoyed dark dog','Schipperke dark dog','Scottish Deerhound dark dog','Scottish Terrier dark dog','Sealyham Terrier dark dog','Shetland Sheepdog dark dog','Shiba Inu dark dog','Shih Tzu dark dog','Siberian Husky dark dog','Silky Terrier dark dog','Skye Terrier dark dog','Smooth Fox Terrier dark dog','Soft Coated Wheaten Terrier dark dog','Spinone Italiano dark dog','Staffordshire Bull Terrier dark dog','Standard Schnauzer dark dog','Sussex Spaniel dark dog','Tibetan Spaniel dark dog','Tibetan Terrier dark dog','Vizsla dark dog','Weimaraner dark dog','Welsh Springer Spaniel dark dog','Welsh Terrier dark dog','West Highland White Terrier dark dog','Whippet dark dog','Wire Fox Terrier dark dog','Wirehaired Pointing Griffon dark dog','Yorkshire Terrier dark dog']

   for term in range(0,1):

      searchTerm = str(terms[term])

      print(searchTerm)

      # time.sleep(5)

      # Encode to url friendly
      searchTerm_url = urllib.request.quote(searchTerm)

      # page start loop
      for i in range(0,5):
         
         startIndex = 4*i
         
         print(str(startIndex))

         # Define url
         url = 'http://ajax.googleapis.com/ajax/services/search/images?v=1.0&q=' + searchTerm_url + '&start=' + str(startIndex)

         # Prepare HTTP request
         req = urllib.request.Request(url=url)

         # Post HTTP request
         time.sleep(5)
         response_json_binary = urllib.request.urlopen(req)

         # Decode response from binary
         response_json = response_json_binary.read().decode('utf8')

         # Convert JSON to dictionary
         response = json.loads(response_json)

         # Extract URL !!! Get dimensions as well
         for picIndex in range(0,3):
            parse_url = response['responseData']['results'][picIndex]['url']
            if ',' not in parse_url:
               # if urlExists(parse_url):
               writer_out.writerow([parse_url])

#Close output file
txtfile_out.close()



